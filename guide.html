<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Lavender Templating Guide</title>
    <meta name="keywords" content="Lavender, Lavender programming language, lavenderlang, lavender-lang">
    <meta name="description" content="A templating engine for PHP, designed to make your life easier.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="vendor/twitter/bootstrap/dist/css/bootstrap.css">
    <link href="css/main.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lily+Script+One' rel='stylesheet' type='text/css'>
  </head>
  
  <body>
   <div class="container"> 
    <div class="btn-group pull-right">
     <button type="button" data-toggle="dropdown" class="btn btn-home dropdown-toggle">Menu 
      <span class="caret"></span></button>
      <ul class="dropdown-menu">
        <li><a href="/lavender.html">Home</a></li>
        <li><a href="https://github.com/golavender/lavender">GitHub</a></li>
        <li><a href="https://github.com/daftlabs">Creators</a></li>   
        <li class="disabled"><a href="/guide.html">Guide</a></li>  
        <li><a href="/about.html">About</a></li>       
      </ul>
    </div>
   
    <div class="guide img-rounded">
     <h1 class="title">The Lavender Guide</h1>
      <p> Hey! We&rsquo;re here to teach you how to learn Lavender. Trust me, if I can learn it,
       you&rsquo;ll be good to go.<p>
     <h2> Navigation</h2>
      <ul class="nav nav-pills">
       <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
         Installation <span class="caret"></span>
        </a>
         <ul class="dropdown-menu" role="menu">
          <li><a href="#composer">via Composer</a></li>
          <li><a href="#github">via GitHub</a></li>
         </ul>
       </li>
       <li><a href="#usage">Usage</a></li>
       <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
         Language Reference <span class="caret"></span>
        </a>
         <ul class="dropdown-menu" role="menu">
         <li><a href="#html">html</a></li>
         <li><a href="#doctype">doctype</a></li>
         <li><a href="#comments">comments</a></li>
         <li><a href="#concomments">conditional comments</a></li>
         <li><a href="#variables">variables</a></li>
         <li><a href="#conditionals">conditionals</a></li>
         <li><a href="#loops">loops</a></li>
         <li><a href="#else">else</a></li>
         <li><a href="#math">math</a></li>
         <li><a href="#include">include</a></li>
         <li><a href="#extends">extends</a></li>
         </ul>
       </li>
       <li><a href="#whitespace">Whitespace</a>
       <li><a href="#filters">Filters</a>
      </ul>    
     <h2>Installation</h2>
     <h3><section id="composer">via composer</section></h3>
      <p>First, get yourself some composer. next you need to make yourself a
       <code>composer.json</code>, here&rsquo;s an example.</p>
       <pre>
        <code class="lavender">
         {
           "require": {
             "lavender/lavender": "*"
            }
         }
     </code>
       </pre>
      <p> Then run <code>php composer.phar install</code> or <code>composer install</code>
       depending on how you installed composer. Once composer has finished it will generate an 
       autoloader in <code>vendor/autoload.php</code> which you can <code>require()</code> from 
       your application&rsquo;s bootstrap process.
      </p>
    <h3><section id="github">via Github</section></h3>
     <p> Add the lavender submodule with 
      <code>git submodule add git@github.com:golavender/lavender.git (folder to clone to)</code> 
      and include it with <code>require "(where you put lavender)/src/Lavender/lavender.php"</code> </p>
    <h2><section id="usage">Usage</section></h2>
     <p> Once you have installed and included lavender, the only required configuration is to tell 
      lavender where the views directory is. 
      <pre>
       <code class="lavender">
        Lavender::config(array(

          /*
           * required - path to views directory
           */
          'view_dir'       => String,

          /*
          * optional - defaults to "lavender"
          */
          //'file_extension' => String,

          /*
          * optional - defaults to TRUE
          *
          * renders a debugging error page instead of throwing an exception.
          * in production you should disable this and use a 500 page.
          */
          //'handle_errors'  => Boolean, 
          ));
       </code>
      </pre>
      <p>Rendering is as easy as...</p>
      <pre>
       <code>
        $output = Lavender::view('some_template')->compile();

        // or if you need to pass data into the template (probably the case)

        $output = Lavender::view('some_template')->compile(array(
          'data'      => 'some data that the template will use',
          'more_data' => "moar data",
        ));
       </code>
      </pre>
    <h2>Language Reference</h2>
     <h3><section id="html">html</section></h3>
      <pre>
       <code>
       section#some_id.foo.bar(attribute1='foo',attribute2='bar')
       </code>
      </pre> 
       <p>becomes</p>
      <pre>
       <code>
        &lt;section id="some_id" class="foo bar" attribute1="foo" attribute2="bar"&gt;&lt;/section&gt;
       </code>
      </pre>
       <p>Child nodes are indented below their parent</p>
      <pre>
       <code>
       section.foo
        div(data-something='foo') 
        div(data-something='bar') 
       </code>
      </pre>
       <p>becomes</p>
      <pre>
       <code>
        &lt;section class="foo"&gt;
         &lt;div data-something="foo"&gt; &lt;/div&gt;
         &lt;div data-something="bar"&gt; &lt;/div&gt;
        &lt;/section&gt;
       </code>
      </pre>
       <p>There is a shortcut if you just want a div, you can skip right to class or id definitions.</p>
      <pre>
       <code>
        .foobar text text
        #foobar text text
       </code>
      </pre>
       <p>becomes</p>
      <pre>
       <code>
        &lt;div class="foobar"&gt;text text&lt;/div&gt;
        &lt;div id="foobar"&gt;text text&lt;/div&gt;
       </code>
      </pre>
       <p> Text can be added to nodes in two ways.</p>
      <pre>
       <code>
        section.foo
          div(data-something='foo') this is some text 
          div(data-something='bar')
           | this is also some text 
       </code>
      </pre>
       <p> Lavender knows not to put a closing tag on certain nodes. (we got the list from 
        <a href="http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements">here</a>)</p>
      <pre>
       <code>
        input(type="text",value="fooooobar")
       </code>
      </pre>
     <p> becomes </p>
      <pre>
       <code>
        &lt;input type="text" value="fooooobar"&gt;
       </code>
      </pre>
    <h3><section id="doctype">doctype</section></h3> 
     <p> Do you always forget the syntax for doctype? Lavender exists to solve your first world 
      problems. Just throw a <code>!!!</code> at the top of your layout and you get yourself a nice 
      html doctype. Doctypes supported are <code>html</code>, <code>transitional</code>, 
      <code>strict</code>, <code>frameset</code>, <code>1.1</code>, <code>basic</code> and 
      <code>mobile</code>. Here are some pretty examples.</p>
     <p><code>!!!</code> will default to html, however you can also specify <code>!!! html</code>. 
      The word <code>doctype</code> works as well!</p>
    <h3><section id="comments">comments</section></h3>
     <p>Comments are a thing! A helpful thing.
      <pre>
       <code>
        // this is an html comment. it will be rendered to the page
        //- this is a lavender comment. it will not be rendered
       </code>
      </pre>
     <h3><section id="concomments">conditional comments</section></h3>
      <p> The <code>IE</code> shorthand can be used to generate conditional comments for 
        Internet Explorer. check out <a href="http://www.quirksmode.org/css/condcom.html">this</a> 
        if you are not familiar with conditional comments.</p>
       <pre>
        <code>
         IE
           script(src="some script to make IE work")
         IE lt 7
           script(src="some script to make super old IE work")
        </code>
       </pre>
      <p> becomes</p>
       <pre>
        <code>
         &lt;!--[if IE]&gt;
           &lt;script src=&quot;some script to make IE work&quot;&gt;&lt;/script&gt;
         &lt;![endif]--&gt;
         &lt;!--[if lt IE 7]&gt;
           &lt;script src=&quot;some script to make super old IE work&quot;&gt;&lt;/script&gt;
         &lt;![endif]--&gt;
        </code>
       </pre>
     <h3><section id="variables">variables</section></h3>
      <p>Lavender views can be passed variables from the parent php application or they can be 
        defined right in the template.</p>
      <p>This just assigns a variable without outputting anything to the page.</p>
       <pre>
        <code>
        - some_variable = "this is stored in a variable"
        </code>
       </pre>
      <p>Note the <code>-</code> symbol, which evaluates an expression without outputting. the 
        content of the variable can then later be output using the <code>=</code> symbol</p>
       <pre>
        <code>
         - some_variable = "this is stored in a variable"

         span.foo= some_variable

         span.bar
           = some_variable
        </code>
       </pre>
      <p>becomes</p>
       <pre>
        <code>
         &lt;span class=&quot;foo&quot;&gt;this is stored in a variable&lt;/div&gt;
         &lt;span class=&quot;bar&quot;&gt;this is stored in a variable&lt;/div&gt;
        </code>
       </pre>
      <p>arrays too</p>
       <pre>
        <code>
        - some_array = ['foo', 'bar', 'baz']
        </code>
       </pre>
      <p>and associative arrays</p>
       <pre>
        <code>
        - some_array = {key1: 'foo', key2: 'bar', key3: 'baz'} 
        </code>
       </pre>
     <h3><section id="conditionals">conditionals</section></h3>
      <p>Markup can be conditionally rendered using the if keyword. Lavender supports all the 
        conditional operations you know and love:
        <code> !, &amp;&amp;, ||, &lt;, &gt;, &lt;=, &gt;=, ==, != </code> 
        and does a truthy check against the result.</p>
       <pre>
        <code>
         - some_variable = "this is stored in a variable"

         if some_variable
           span.foo= some_variable

         if some_variable_that_doesnt_exist
           span.foo this won't be rendered

         if FALSE
           div this isn't rendered
         elseif FALSE
           div still not rendered
         elseif TRUE
           div wooooooooo
         else
           div sadface
        </code>
       </pre>
      <p>becomes</p>
       <pre>
        <code>
         &lt;span class=&quot;foo&quot;&gt;this is stored in a variable&lt;/div&gt;
         &lt;div&gt;wooooooooo&lt;/div&gt;
        </code>
       </pre>
      <p> <code>TRUE</code> and <code>FALSE</code> (and <code>true</code> and <code>false</code>) 
        are keywords in Lavender, they can be assinged to variables or used in conditionals directly 
        (but if you actually do that then <a href="https://www.destroyallsoftware.com/talks/wat">wat</a>)
       <pre>
        <code>
         - my_variable = TRUE

         if my_variable
           div this will show up

         if false
           div this will not
        </code>
       </pre>
     <h3><section id="loops">loops</section></h3>
      <p>Lavender supports iterating over arrays and 
        associative arrays with the <code>each</code> keyword</p>
       <pre>
        <code>
         ul
           each value in some_random_array
             li= value 

         ul
           each value, key in some_random_array
             li(data-key=key)= value 
        </code>
       </pre>
      <p>You may have noticed how we snuck in using variables for your html attributes there. 
        You can do that too!</p>
     <h3><section id="else">else</section></h3>
      <p>The else keyword can be used after loops or conditionals.</p>
       <pre>
        <code>
         if FALSE
           div will not show up
         else
           div will show up

         - empty_array = []

         each value in empty_array
           div nothing to see here
         else
           div empty array!
        </code>
       </pre>
      <h3><section id="math">math</section></h3>
       <p>Math. You can do it. Supported operators are <code>%, +, -, *, /, (, )</code>.</p>
        <pre>
         <code>
          div
            | 1 + 1 = 
            = 1 + 1

          div
            | 2 - 3 = 
            = 2 - 3

          div
            | 2 * 3 = 
            = 2 * 3

          div
            | 10 / 5 = 
            = 10 / 5
          
          ul
            each value, key in some_random_array
              if key % 2 == 0
                li(data-key=key)= value 
         </code>
        </pre>
      <h3><section id="include">include</section></h3>
       <p>Partials are a thing.</p>
        <pre>
         <code>
         span stuff and things

         div.content
           include /path/relative/to/view/directory/somefile

         div.content
           include /path/relative/to/view/directory/somefile with {stuff: "Asdfasdf"}
         </code>
        </pre>
      <h3><section id="extends">extends</section></h3>
       <p>Lavender supports block style layout extension. This means that in the parent template 
        you define blocks using the <code>block</code> keyword. Then in the child template you 
        <b>only have blocks</b> which override the blocks in the parent template.</p>
       <p>so if this was layout.lavender</p>
        <pre>
         <code>
         h1 this is a pretty cool web page

         block header
           | you can put some default content in here
           | it will be displayed if no child template
           | overrides it

         div.content
           block content
         </code>
        </pre>
       <p>and this is the child template...</p>
        <pre>
         <code>
         extends layout

         block header
           div
             span
               | foo bar baz


         block content
           | content
           | more content
           | moar content
         </code>
        </pre>
       <p>and you were to render the child template, you would get...</p>
        <pre>
         <code>
         &lt;h1&gt;this is a pretty cool web page&lt;/h1&gt;

         &lt;div&gt;
           &lt;span&gt;foo bar baz&lt;/span&gt;
         &lt;/div&gt;

         &lt;div class=&quot;content&quot;&gt;
           content
           more content
           moar content
         &lt;/div&gt;
         </code>
        </pre>
       <p>A special case has been added to allow defining variables at the top of your child 
        templates, these variables can be referenced from the layout to do cool things like 
        specifying a list of javascript files necessary for a template to work or setting the page title.</p>
    <h2><section id="whitespace">whitespace</section></h2>
       <p>New lines are added automatically after every html element, if you do not want the newline 
        you can add a <code>-</code> to the node definition like so.</p>
        <pre>
         <code>
          p
            a(href=&quot;/some/place&quot;)- click here for some cool stuff
            |.
         </code>
        </pre>
       <p>Automagic whitespace management is hard and subject to change.</p>
     <h2><section id="filters">filters</section></h2>
       <p>Programatic expressions in Lavender are a little limited, none of your favorite php 
        functions are available for modifying the template data. This is by design, we do not think 
        there should be a ton of logic in templates when that logic could be in controllers or models. 
        However, since you have to be able to do some templating logic, we added filters. It is super 
        easy to add your own filters to Lavender and there are (or will be) plenty in place out of 
        the box. here is how they work.</p>
        <pre>
         <code>
          - myvariable = "some really cool text"

          div
            span
              | i'm gonna filter some stuff. it's gonna be cool. 
              = myvariable | upper 
         </code>
        </pre>
       <p>becomes</p>
        <pre>
         <code>
          &lt;div&gt;
            &lt;span&gt;im gonna filter some stuff, it&apos;ll be cool. SOME REALLY COOL TEXT&lt;/span&gt;
          &lt;/div&gt;
         </code>
        </pre>
       <p> Profound right? Not that we invented this, we copied the idea from 
        <a href="http://twig.sensiolabs.org/">twig</a>. The filters Lavender comes with are:</p>
   
       <p>
        <ul class="list-unstyled">
         <li><b>upper:</b><code> ="string"|upper</code> becomes <code>STRING</code> </li>  
         <li><b>trim:</b><code> =" string "|trim</code> becomes <code>string</code> </li>
         <li><b>title:</b><code> ="this is a title"|title</code> becomes <code>This Is A Title </code></li> 
         <li><b>split:</b><code> "these are some words"|split(' ')</code> becomes the array
          <code> ['these', 'are', 'some', 'words'] </code></li>
         <li><b>sort:</b><code> "these are some words"|split(' ')|sort</code> becomes the array
          <code> ['are', 'some', 'these', 'words'] </code></li>
         <li><b>capitalize:</b><code> = "these are some words"|capitalize</code> becomes 
          <code>These are some words </code></li>
         <li><b>date:</b><code> = "1396372567"|date</code> becomes 
          <code>4/1/2014 = "1396372567"|date('Y') </code>becomes <code>2014 </code></li>
         <li><b>default:</b><code> = []|default('foobar')</code> becomes <code>foobar</code> </li>
         <li><b>first:</b><code> = ['asdf','qwer']|first</code> becomes <code>asdf</code> </li>
         <li><b>join:</b><code> = ['asdf','qwer']|join</code> becomes 
          <code>asdf qwer = ['asdf','qwer']|join('-')</code> becomes <code>asdf-qwer</code> </li>
         <li><b>last:</b><code> = ['asdf','qwer']|last</code> becomes 
          <code>qwer = ['asdf','qwer', 'zxcv']|last(2)|join('-')</code> becomes <code>qwer-zxcv</code> </li>
         <li><b>keys:</b><code> {'asdf': 'foo','qwer': 'bar'}|keys</code> becomes the array
          <code> ['asdf', 'qwer']</code> </li>
         <li><b>length:</b><code> = ['asdf','qwer']|length</code> becomes <code>2</code> </li>
         <li><b>lower:</b><code> = "FOO BAR"|lower</code> becomes <code>foo bar</code> </li>
         <li><b>nl2br:</b><code> = "new\nline"|nl2br</code> becomes <code>new&lt;br&gt;line </code></li>
         <li><b>round:</b><code> = 12345.123|round(2)</code> becomes <code>12345.12</code></li>
         <li><b>merge:</b><code> ['foo', 'bar']|merge(['baz'])</code> becomes the array 
          <code>['foo', 'bar', 'baz']</code> </li>
         <li><b>replace:</b><code> = "foo bar"|replace(' ', '-')</code> becomes <code>foo-bar</code> </li>
         <li><b>reverse:</b><code> ['asdf', 'qwer']|reverse</code> becomes the array 
          <code>['qwer', 'asdf']</code> </li>
         <li><b>slice:</b><code> ['foo', 'bar', 'baz']|slice(1, 1)</code> becomes the array 
          <code>['bar']</code> </li>
         <li><b>number_format:</b><code> = 10000000000.12345|number_format()</code> becomes 
          <code>10,000,000,000 = 10000000000.12345|number_format(2, ',', '.')</code> becomes 
          <code>10.000.000.000,12</code> </li>
         <li><b>ceil:</b><code> = 10000000000.12345|ceil</code> becomes <code>10000000001</code> </li>
         <li><b>floor:</b><code> = 10000000000.12345|floor</code> becomes <code>10000000000</code> </li>
         <li><b>relative:</b> if you had a <code>timestamp</code> variable 
          <code>timestamp|relative</code> would return things like 'just now' or 'in 3 days' or 
          <code>6 minutes ago</code> </li>
         <li><b>contains:</b><code> = ['asdf', 'qwer']|contains('asdf')</code> returns TRUE </li>
         <li><b>is:</b></li>
           <ul>
            <li><code> = ['asdf', 'qwer']|is('list')</code> returns TRUE
            <li><code> = {asdf: 'qwer'}|is('object')</code> returns TRUE
            <li><code> = 8|is('number')</code> returns TRUE
            <li><code> = myVariable|is('My_Class_Name')</code> also works
           </ul>
          <li><b>json:</b><code> = ['asdf', 'qwer']|json</code> returns <code>"['asdf','qwer']"</code></li>
         </ul>
    </div>
   </div>
   
   <!-- jQuery Version 1.11.0 -->
   <script src="vendor/twitter/bootstrap/dist/js/jquery-1.11.0.js"></script>
   <!-- Bootstrap Core JavaScript -->
   <script src="vendor/twitter/bootstrap/dist/js/bootstrap.min.js"></script>
   <!-- Plugin JavaScript -->
   <script src="vendor/twitter/bootstrap/dist/js/jquery.easing.min.js"></script>   
  </body>
</html>